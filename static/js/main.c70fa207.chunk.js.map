{"version":3,"sources":["components/Continuewith/Continuewith.js","lib/firebase.js","components/ChatRoom/Image.js","components/ChatRoom/useChatRoom.js","components/ChatRoom/ChatRoom.js","components/MenuBar/MenuBar.js","components/Participant/Participant.js","components/Room/Room.js","components/Home/home.js","App.js","index.js"],"names":["Continuewith","state","isSignedIn","uiConfig","signInFlow","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","GithubAuthProvider","callbacks","signInSuccess","componentDidMount","onAuthStateChanged","user","setState","className","this","firebaseAuth","Component","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Image","props","useState","imageSrc","setImageSrc","useEffect","reader","FileReader","readAsDataURL","blob","onloadend","result","style","width","height","src","alt","fileName","NEW_MESSAGE_EVENT","useChatRoom","roomId","messages","setMessages","socketRef","useRef","current","socketIOClient","query","on","message","incomingMessage","isOwner","senderId","id","disconnect","sendMessage","messageBody","file","emit","body","type","mimeType","name","Room","useChat","newMessage","setNewMessage","setFile","displayEmoji","setDisplayEmoji","messageRef","handleSendMessage","console","log","scrollIntoView","behavior","AppBar","position","sx","color","background","alignItems","Typography","variant","component","flexGrow","map","i","Blob","componentDecorator","decoratedHref","decoratedText","href","ref","onEmojiClick","event","emojiObject","emoji","htmlFor","accept","onChange","e","target","files","display","multiple","IconButton","PhotoCamera","onClick","placeholder","value","onKeyUp","key","MenuBar","handleLogout","handleAudioMute","handleAudioUnmute","handleVideoMute","handleVideoUnmute","showChat","roomName","handleScreenShare","audio","setAudio","camera","setCamera","setMessage","screenSharing","setScreenSharing","openSnackbar","setOpenSnackbar","iconOfSnackBar","Fragment","Box","backgroundColor","m","p","borderRadius","boxShadow","justifyContent","Button","navigator","clipboard","writeText","Snackbar","open","autoHideDuration","onClose","_event","reason","action","Participant","participant","totalParticipant","currentUser","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","Array","from","values","publication","track","filter","kind","v","a","removeAllListeners","videoTrack","attach","detach","audioTrack","length","identity","autoPlay","room","handleScreenShareStart","handleScreenShareStop","participants","setParticipants","displayChat","setDisplayChat","displayShareScreen","setDisplayShareScreen","sizeofgrid1","setsizeofgrid1","sizeofgrid2","setsizeofgrid2","marginMenuBar","setMarginMenuBar","participantConnected","prevParticipants","participantDisconnected","forEach","off","remoteParticipants","sid","Grid","container","spacing","item","xs","columns","localParticipant","mt","displayScreen","require","createLocalVideoTrack","Home","setCurrentUser","setRoomName","setRoom","username","setUsername","isAnonymous","setInterval","Date","displayName","screenTrack","React","backDropOpen","setBackDropOpen","handleSubmit","useCallback","fetch","method","JSON","stringify","headers","then","res","json","data","Video","connect","token","catch","err","error","prevRoom","tracks","trackPub","stop","tidyUp","persisted","window","addEventListener","removeEventListener","disable","enable","mediaDevices","getDisplayMedia","stream","LocalVideoTrack","getTracks","publishTrack","alert","uuid","now","Math","floor","random","toString","slice","substring","VideoCallOutlined","TextField","InputProps","startAdornment","InputAdornment","Keyboard","endAdornment","disabled","updateProfile","delete","signOut","Backdrop","zIndex","theme","drawer","CircularProgress","App","appState","setAppState","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mYAMMA,E,4MACJC,MAAQ,CAAEC,YAAY,G,EACtBC,SAAW,CACTC,WAAY,QACZC,cAAe,CACbC,IAASC,KAAKC,mBAAmBC,YACjCH,IAASC,KAAKG,qBAAqBD,YACnCH,IAASC,KAAKI,mBAAmBF,aAEnCG,UAAW,CACTC,cAAe,kBAAM,K,EAIzBC,kBAAoB,WAClBR,IAASC,OAAOQ,oBAAmB,SAACC,GAClC,EAAKC,SAAS,CAAEf,aAAcc,Q,4CAKlC,WAEE,OACE,qBAAKE,UAAU,eAAf,SACGC,KAAKlB,MAAMC,WACV,yBAEA,sBAAKgB,UAAU,wBAAf,UACE,mBAAGA,UAAU,sBAAb,qBACA,mBAAGA,UAAU,yBAAb,+BAEA,cAAC,qBAAD,CACEf,SAAUgB,KAAKhB,SACfiB,aAAcd,IAASC,kB,GAlCVc,aA+DZrB,I,qJCxDfM,IAASgB,cAVc,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKV,IAAMtB,EAAOD,IAASC,O,6ICQduB,MArBf,SAAeC,GACb,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAUA,OARAC,qBAAU,WACR,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcP,EAAMQ,MAC3BH,EAAOI,UAAY,WACjBN,EAAYE,EAAOK,WAEpB,CAACV,EAAMQ,OAGR,qBACErB,UAAU,QACVwB,MAAO,CAAEC,MAAO,IAAKC,OAAQ,QAC7BC,IAAKZ,EACLa,IAAKf,EAAMgB,Y,kBCfXC,GAAoB,oBA8CXC,GA1CK,SAACC,GACnB,MAAgClB,mBAAS,IAAzC,mBAAOmB,EAAP,KAAiBC,EAAjB,KACMC,EAAYC,mBAElBnB,qBAAU,WAaR,OAZAkB,EAAUE,QAAUC,YARE,gDAQgC,CACpDC,MAAO,CAAEP,YAGXG,EAAUE,QAAQG,GAAGV,IAAmB,SAACW,GACvC,IAAMC,EAAe,2BAChBD,GADgB,IAEnBE,QAASF,EAAQG,WAAaT,EAAUE,QAAQQ,KAElDX,GAAY,SAACD,GAAD,4BAAkBA,GAAlB,CAA4BS,UAGnC,WACLP,EAAUE,QAAQS,gBAEnB,CAACd,IAmBJ,MAAO,CAAEC,WAAUc,YAjBC,SAACC,EAAaC,GAC5BA,EACFd,EAAUE,QAAQa,KAAKpB,GAAmB,CACxCqB,KAAMF,EACNG,KAAM,OACNC,SAAUJ,EAAKG,KACfvB,SAAUoB,EAAKK,KACfV,SAAUT,EAAUE,QAAQQ,KAG9BV,EAAUE,QAAQa,KAAKpB,GAAmB,CACxCqB,KAAMH,EACNJ,SAAUT,EAAUE,QAAQQ,QCwHrBU,GAlJF,SAAC,GAAgB,IAAdvB,EAAa,EAAbA,OAEd,EAAkCwB,GAAQxB,GAAlCC,EAAR,EAAQA,SAAUc,EAAlB,EAAkBA,YAClB,EAAoCjC,mBAAS,IAA7C,mBAAO2C,EAAP,KAAmBC,EAAnB,KACA,EAAwB5C,qBAAxB,mBAAOmC,EAAP,KAAaU,EAAb,KACA,EAAwC7C,mBAAS,mBAAjD,mBAAO8C,EAAP,KAAqBC,EAArB,KACMC,EAAa1B,mBAMb2B,EAAoB,WACxBC,QAAQC,IAAIR,GACO,KAAfA,IACFV,EAAYU,EAAYR,GACxBS,EAAc,IACdC,IACAE,EAAgB,qBA4DpB,OAFA5C,qBAAU,kBAAM6C,EAAWzB,QAAQ6B,eAAe,CAAEC,SAAU,cAG5D,qBAAKnE,UAAU,UAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAACoE,EAAA,EAAD,CACEC,SAAS,SACTC,GAAI,CACF5C,OAAQ,GACR6C,MAAO,QACPC,WAAY,cACZC,WAAY,UANhB,SASE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,MAAMN,GAAI,CAAEO,SAAU,GAAzD,qBAIF,sBAAK7E,UAAU,iBAAf,UACE,sBAAKA,UAAU,MAAf,UACE,oBAAI6C,GAAG,WAAP,SAAmBZ,EAAS6C,KA/Df,SAACrC,EAASsC,GAC/B,GAAqB,SAAjBtC,EAAQW,KAAiB,CAC3B,IAAM/B,EAAO,IAAI2D,KAAK,CAACvC,EAAQU,MAAO,CAAEC,KAAMX,EAAQW,OACtD,OACE,qBAEEpD,UAAWyC,EAAQE,QAAU,aAAe,mBAF9C,SAIE,qBAAK3C,UAAU,UAAf,SACE,cAAC,EAAD,CAAO6B,SAAUY,EAAQZ,SAAUR,KAAMA,OAJtC0D,GAUX,OACE,qBAEE/E,UAAWyC,EAAQE,QAAU,aAAe,mBAF9C,SAIE,qBAAK3C,UAAU,UAAf,SACE,cAAC,IAAD,CACEiF,mBAAoB,SAACC,EAAeC,GAAhB,OAClB,cAAC,aAAD,CAAYC,KAAMF,EAAlB,SAAkCC,KAFtC,SAKG1C,EAAQU,UATR4B,QA+CD,qBAAKM,IAAKvB,OAGZ,qBAAK9D,UAAW4D,EAAhB,SACE,cAAC,IAAD,CAAQ0B,aAnCG,SAACC,EAAOC,GAC3B9B,EAAcD,EAAa+B,EAAYC,eAqCnC,sBAAK5C,GAAG,OAAO7C,UAAU,YAAzB,UACE,wBAAO0F,QAAQ,qBAAf,UACE,uBACEC,OAAO,UACPC,SAhFO,SAACC,GAClBnC,EAAcmC,EAAEC,OAAOC,MAAM,GAAGzC,MAChCK,EAAQkC,EAAEC,OAAOC,MAAM,KA+EbvE,MAAO,CAAEwE,QAAS,QAClBnD,GAAG,qBACHoD,UAAQ,EACR7C,KAAK,SAEP,cAAC8C,EAAA,EAAD,CACElG,UAAU,SACV,aAAW,iBACX4E,UAAU,OAHZ,SAKE,cAACuB,EAAA,EAAD,SAGJ,gCACE,cAACD,EAAA,EAAD,CAAY,aAAW,QAAQtB,UAAU,OAAOwB,QArDzC,WACM,oBAAjBxC,EAAoCC,EAAgB,gBAC9B,iBAAjBD,GACPC,EAAgB,oBAkDV,SACE,cAAC,IAAD,QAIJ,uBACEhB,GAAG,UACHwD,YAAY,qBACZC,MAAO7C,EACPmC,SA5HqB,SAACL,GAC9B7B,EAAc6B,EAAMO,OAAOQ,QA4HnBC,QA/GU,SAAChB,GACD,UAAdA,EAAMiB,KACRzC,OAgHI,wBAAQqC,QAASrC,EAAjB,SACE,cAAC,IAAD,e,uOCpIG,SAAS0C,GAAT,GASX,IARFC,EAQC,EARDA,aACAC,EAOC,EAPDA,gBACAC,EAMC,EANDA,kBACAC,EAKC,EALDA,gBACAC,EAIC,EAJDA,kBACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAC,EACC,EADDA,kBAEA,EAA0BnG,oBAAS,GAAnC,mBAAOoG,EAAP,KAAcC,EAAd,KACA,EAA4BrG,oBAAS,GAArC,mBAAOsG,EAAP,KAAeC,EAAf,KACA,EAA8BvG,oBAAS,GAAvC,mBAAO2B,EAAP,KAAgB6E,EAAhB,KAEA,EAA0CxG,oBAAS,GAAnD,mBAAOyG,EAAP,KAAsBC,EAAtB,KACA,EAAwC1G,oBAAS,GAAjD,mBAAO2G,EAAP,KAAqBC,EAArB,KAkEMC,EACJ,cAAC,IAAMC,SAAP,UACE,cAAC,IAAD,CAAiBtD,GAAI,CAAEC,MAAO,aAIlC,OACE,eAACsD,EAAA,EAAD,WACE,eAACA,EAAA,EAAD,CACEjD,UAAU,OACVN,GAAI,CACFwD,gBAAiB,UACjBC,EAAG,OACHC,EAAG,EACHC,aAAc,EACdC,UAAW,IAEblC,QAAQ,OACRvE,MAAO,IACPgD,WAAW,SACX0D,eAAe,SAZjB,UAcE,cAACC,EAAA,EAAD,CAAQhC,QAtFM,YACJ,IAAVc,GACFC,GAAS,GACTP,MACmB,IAAVM,IACTC,GAAS,GACTR,MAgFgCrC,GAAI,CAAEC,MAAO,SAA3C,UACa,IAAV2C,EACC,cAAC,KAAD,CAAS5C,GAAI,CAAEC,MAAO,aAEtB,cAAC,KAAD,CAAYD,GAAI,CAAEC,MAAO,aAG7B,cAAC6D,EAAA,EAAD,CAAQhC,QAnFO,YACJ,IAAXgB,GACFC,GAAU,GACVP,MACoB,IAAXM,IACTC,GAAU,GACVR,MA6EiCvC,GAAI,CAAEC,MAAO,SAA5C,UACc,IAAX6C,EACC,cAAC,KAAD,CAAc9C,GAAI,CAAEC,MAAO,aAE3B,cAAC,KAAD,CAAiBD,GAAI,CAAEC,MAAO,aAGlC,cAAC6D,EAAA,EAAD,CAAQhC,QAhFQ,YACJ,IAAZ3D,GACF6E,GAAW,GACXP,MACqB,IAAZtE,IACT6E,GAAW,GACXP,MA0EkCzC,GAAI,CAAEC,MAAO,SAA7C,UACe,IAAZ9B,EACC,cAAC,KAAD,CAAa6B,GAAI,CAAEC,MAAO,aAE1B,cAAC,KAAD,CAAuBD,GAAI,CAAEC,MAAO,aAGxC,cAAC6D,EAAA,EAAD,CAAQhC,QA7Ec,YACJ,IAAlBmB,GACFC,GAAiB,GACjBP,GAAkB,KACS,IAAlBM,IACTC,GAAiB,GACjBP,GAAkB,KAuEsB3C,GAAI,CAAEC,MAAO,SAAnD,UACqB,IAAlBgD,EACC,cAAC,KAAD,CAAiBjD,GAAI,CAAEC,MAAO,aAE9B,cAAC,KAAD,CAAqBD,GAAI,CAAEC,MAAO,aAatC,cAAC6D,EAAA,EAAD,CAAQ9D,GAAI,CAAEC,MAAO,SAAW6B,QA1Eb,WACvBiC,UAAUC,UAAUC,UAApB,kHAC6GvB,IAE7GU,GAAgB,IAsEZ,SACE,cAAC,KAAD,MAEF,cAACU,EAAA,EAAD,CAAQ9D,GAAI,CAAEC,MAAO,SAArB,SACE,cAAC,KAAD,MAEF,cAAC6D,EAAA,EAAD,CACEhC,QAASM,EACTpC,GAAI,CACFwD,gBAAiB,UACjB,SAAU,CAAEA,gBAAiB,WAC7BvD,MAAO,SALX,SAQE,cAAC,KAAD,SAIJ,cAACiE,EAAA,EAAD,CACEC,KAAMhB,EACNiB,iBAAkB,IAClBC,QAxFsB,SAACC,EAAQC,GACpB,cAAXA,GAGJnB,GAAgB,IAqFZoB,OAAQnB,EACRlF,QAAQ,4B,WCpGDsG,GAhFK,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,YAAaC,EAAoC,EAApCA,iBAAkBC,EAAkB,EAAlBA,YACpD,EAAsCpI,mBAAS,IAA/C,mBAAOqI,EAAP,KAAoBC,EAApB,KACA,EAAsCtI,mBAAS,IAA/C,mBAAOuI,EAAP,KAAoBC,EAApB,KACMC,EAAWnH,mBACXoH,EAAWpH,mBAEXqH,EAAoB,SAACC,GAAD,OACxBC,MAAMC,KAAKF,EAASG,UACjB/E,KAAI,SAACgF,GAAD,OAAiBA,EAAYC,SACjCC,QAAO,SAACD,GAAD,OAAqB,OAAVA,MAoDvB,OAlDA9I,qBAAU,WACRmI,EAAeK,EAAkBT,EAAYG,cAC7CG,EAAeG,EAAkBT,EAAYK,cAqB7C,OAHAL,EAAYxG,GAAG,mBAhBS,SAACuH,GACJ,UAAfA,EAAME,KACRb,GAAe,SAACD,GAAD,4BAAqBA,GAArB,CAAkCY,OACzB,UAAfA,EAAME,MACfX,GAAe,SAACD,GAAD,4BAAqBA,GAArB,CAAkCU,UAarDf,EAAYxG,GAAG,qBATW,SAACuH,GACN,UAAfA,EAAME,KACRb,GAAe,SAACD,GAAD,OAAiBA,EAAYa,QAAO,SAACE,GAAD,OAAOA,IAAMH,QACxC,UAAfA,EAAME,MACfX,GAAe,SAACD,GAAD,OAAiBA,EAAYW,QAAO,SAACG,GAAD,OAAOA,IAAMJ,WAO7D,WACLX,EAAe,IACfE,EAAe,IACfN,EAAYoB,wBAEb,CAACpB,IAEJ/H,qBAAU,WACR,IAAMoJ,EAAalB,EAAY,GAC/B,GAAIkB,EAEF,OADAA,EAAWC,OAAOf,EAASlH,SACpB,WACLgI,EAAWE,YAGd,CAACpB,IAEJlI,qBAAU,WACR,IAAMuJ,EAAanB,EAAY,GAC/B,GAAImB,EAEF,OADAA,EAAWF,OAAOd,EAASnH,SACpB,WACLmI,EAAWD,YAGd,CAAClB,IAGF,sBACErJ,UAAS,sBACsB,KAAb,OAAhBiJ,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBwB,SAAgB,mBAFtC,UAKE,mBAAGzK,UAAU,mBAAb,SACE,cAAC6H,EAAA,EAAD,CAAKvD,GAAI,CAAEwD,gBAAiB,iBAAkBE,EAAG,IAAjD,SACGgB,EAAY0B,WAAaxB,EAAc,MAAQF,EAAY0B,aAGhE,eAAC7C,EAAA,EAAD,CAAKvD,GAAI,CAAE4D,UAAW,IAAtB,UACE,uBAAO7C,IAAKkE,EAAUoB,UAAU,IAChC,uBAAOtF,IAAKmE,EAAUmB,UAAU,WC8FzBpH,I,OApKF,SAAC,GAWP,IAVLyD,EAUI,EAVJA,SACA4D,EASI,EATJA,KACAlE,EAQI,EARJA,aACAwC,EAOI,EAPJA,YACAvC,EAMI,EANJA,gBACAC,EAKI,EALJA,kBACAC,EAII,EAJJA,gBACAC,EAGI,EAHJA,kBACA+D,EAEI,EAFJA,uBACAC,EACI,EADJA,sBAEA,EAAwChK,mBAAS,IAAjD,mBAAOiK,EAAP,KAAqBC,EAArB,KACA,EAAsClK,oBAAS,GAA/C,mBAAOmK,EAAP,KAAoBC,EAApB,KACA,EAAoDpK,oBAAS,GAA7D,mBAAOqK,EAAP,KAA2BC,EAA3B,KACA,EAAsCtK,mBAAS,GAA/C,mBAAOuK,EAAP,KAAoBC,EAApB,KACA,EAAsCxK,mBAAS,GAA/C,mBAAOyK,EAAP,KAAoBC,EAApB,KACA,EAA0C1K,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBC,EAAtB,KAEAzK,qBAAU,WACR,IAAM0K,EAAuB,SAAC3C,GAC5BgC,GAAgB,SAACY,GAAD,4BAA0BA,GAA1B,CAA4C5C,QAGxD6C,EAA0B,SAAC7C,GAC/BgC,GAAgB,SAACY,GAAD,OACdA,EAAiB5B,QAAO,SAAChC,GAAD,OAAOA,IAAMgB,SAOzC,OAHA4B,EAAKpI,GAAG,uBAAwBmJ,GAChCf,EAAKpI,GAAG,0BAA2BqJ,GACnCjB,EAAKG,aAAae,QAAQH,GACnB,WACLf,EAAKmB,IAAI,uBAAwBJ,GACjCf,EAAKmB,IAAI,0BAA2BF,MAErC,CAACjB,IAEJ,IAAMoB,EAAqBjB,EAAajG,KAAI,SAACkE,GAAD,OAC1C,cAAC,GAAD,CAEEA,YAAaA,EACbE,YAAaA,GAFRF,EAAYiD,QAMrBjI,QAAQC,IAAI,UA0BZ,OACE,sBAAMjE,UAAU,OAAhB,SACE,cAAC6H,EAAA,EAAD,CAAKvD,GAAI,CAAEO,SAAU,GAArB,SACE,eAACqH,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAIjB,EAAf,SACE,eAACxD,EAAA,EAAD,CAAKvD,GAAI,CAAEO,SAAU,GAArB,UACE,eAACqH,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGG,QAAS,GAArC,UACE,cAACL,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IAAf,SACE,cAACzE,EAAA,EAAD,CAAKvD,GAAI,CAAE4D,UAAW,IAAtB,SACG0C,EACC,cAAC,GAAD,CACE3B,iBAAkB8B,EAElB/B,YAAa4B,EAAK4B,kBADb5B,EAAK4B,iBAAiBP,KAI7B,MATkB,KAaxB,cAACC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IAAf,SACE,cAACzE,EAAA,EAAD,CAAKvD,GAAI,CAAE4D,UAAW,IAAtB,SAA6B8D,KADP,QAI1B,cAACnE,EAAA,EAAD,WAC0B,IAAvBsD,EACC,cAACe,EAAA,EAAD,UACE,cAACrE,EAAA,EAAD,CAAKvD,GAAI,CAAEwD,gBAAiB,SAA5B,SACE,cAAC,GAAD,CACEmB,iBAAkB8B,EAElB/B,YAAa4B,EAAK4B,kBADb5B,EAAK4B,iBAAiBP,SAMjC,KAGJ,cAACpE,EAAA,EAAD,CAAKvD,GAAI,CAAEmI,GAAIhB,GAAf,SACE,cAAChF,GAAD,CACEC,aAAcA,EACdC,gBAAiBA,EACjBC,kBAAmBA,EACnBC,gBAAiBA,EACjBC,kBAAmBA,EACnBE,SAAUA,EACVD,SAvEC,YACK,IAAhBkE,GACFC,GAAe,GACfI,EAAe,GACfE,EAAe,GACfE,EAAiB,MACQ,IAAhBT,IACTC,GAAe,GACfI,EAAe,IACfE,EAAe,GACfE,EAAiB,MA8DLzE,kBA1DU,SAACyF,GACzB1I,QAAQC,IAAI,mBAAqByI,GACjCtB,EAAsBsB,IACA,IAAlBA,EACF7B,IAEAC,eAyDqB,IAAhBG,EACC,cAACiB,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAIf,EAAf,SACE,cAAC1D,EAAA,EAAD,CAAKvD,GAAI,CAAEwD,gBAAiB,SAA5B,SACE,cAAC,GAAD,CAAU9F,OAAQgF,QAItB,Y,OCjIsB2F,EAAQ,IAAlCC,sBA+TOC,OA7Tf,WACE,MAAsC/L,mBAAS,MAA/C,mBAAOoI,EAAP,KAAoB4D,EAApB,KACA,EAAgChM,mBAAS,IAAzC,mBAAOkG,EAAP,KAAiB+F,EAAjB,KACA,EAAwBjM,mBAAS,MAAjC,mBAAO8J,EAAP,KAAaoC,EAAb,KACA,EAAgClM,mBAAS,IAAzC,mBAAOmM,EAAP,KAAiBC,EAAjB,KACA,EAAwCpM,oBAAS,GAAjD,mBAAO2G,EAAP,KAAqBC,EAArB,KAEAzG,qBAAU,WAWR,OAVA5B,EAAKQ,oBAAmB,SAACC,GACnBA,GACFgN,EAAehN,GACfkE,QAAQC,IAAInE,EAAKqN,cAEjBL,EAAe,SAILM,aAAY,kBAAM,IAAIC,OAAQ,OAE3C,IAEHpM,qBAAU,WACJiI,GACFgE,EAAYhE,EAAYoE,eAEzB,CAACpE,IAkBJ,IAyGIqE,EAzGJ,EAAwCC,IAAM1M,UAAS,GAAvD,mBAAO2M,EAAP,KAAqBC,EAArB,KA0CMC,EAAeC,sBAAW,sBAAC,4BAAAzD,EAAA,sEACZ0D,MACjB,0DACA,CACEC,OAAQ,OACR3K,KAAM4K,KAAKC,UAAU,CACnBtD,SAAUuC,EACVrC,KAAM5D,IAERiH,QAAS,CACP,eAAgB,sBAGpBC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAbW,OACzBC,EADyB,OAc/BC,IAAMC,QAAQF,EAAKG,MAAO,CACxBlL,KAAM0D,IAELkH,MAAK,SAACtD,GACLoC,EAAQpC,MAET6D,OAAM,SAACC,GACN1K,QAAQ2K,MAAMD,MAElB1K,QAAQC,IAAIoK,GAvBmB,2CAwB9B,CAACrH,EAAUiG,IAERvG,EAAekH,uBAAY,WAlE/BF,GAAgB,GAoEhBV,GAAQ,SAAC4B,GAOP,OANIA,IACFA,EAASpC,iBAAiBqC,OAAO/C,SAAQ,SAACgD,GACxCA,EAAS/E,MAAMgF,UAEjBH,EAAS9L,cAEJ,UAER,IA+DG6E,EACJ,cAAC,IAAMC,SAAP,UACE,cAAC,IAAD,CAAiBtD,GAAI,CAAEC,MAAO,aA+HlC,OA3HAtD,qBAAU,WACR,GAAI2J,EAAM,CACR,IAAMoE,EAAS,SAACzJ,GACVA,EAAM0J,WAGNrE,GACFlE,KAKJ,OAFAwI,OAAOC,iBAAiB,WAAYH,GACpCE,OAAOC,iBAAiB,eAAgBH,GACjC,WACLE,OAAOE,oBAAoB,WAAYJ,GACvCE,OAAOE,oBAAoB,eAAgBJ,OAG9C,CAACpE,EAAMlE,IAGNkE,EAEA,cAAC,GAAD,CACE5D,SAAUA,EACV4D,KAAMA,EACNlE,aAAcA,EACdwC,YAAaA,EACbvC,gBA9FkB,WACtBiE,EAAK4B,iBAAiBnD,YAAYyC,SAAQ,SAAChC,GAAD,OACxCA,EAAYC,MAAMsF,cA6FhBzI,kBAzFoB,WACxBgE,EAAK4B,iBAAiBnD,YAAYyC,SAAQ,SAAChC,GAAD,OACxCA,EAAYC,MAAMuF,aAwFhBzI,gBApFkB,WACtB+D,EAAK4B,iBAAiBrD,YAAY2C,SAAQ,SAAChC,GAAD,OACxCA,EAAYC,MAAMsF,cAmFhBvI,kBA/EoB,WACxB8D,EAAK4B,iBAAiBrD,YAAY2C,SAAQ,SAAChC,GAAD,OACxCA,EAAYC,MAAMuF,aA8EhBzE,uBAxEyB,WAC7BxC,UAAUkH,aACPC,kBACAtB,MAAK,SAACuB,GACLlC,EAAc,IAAIe,IAAMoB,gBAAgBD,EAAOE,YAAY,IAC3D/E,EAAK4B,iBAAiBoD,aAAarC,GAGnCvJ,QAAQC,IAAI,cAAgBsJ,MAE7BkB,OAAM,WACLoB,MAAM,mCA8DN/E,sBA1DwB,WAG5B9G,QAAQC,IAAI,yBAwDRsJ,YAAaA,IAKf,gCACE,qBAAKvN,UAAU,OAAf,SACE,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,eAACoI,EAAA,EAAD,CACE9D,GAAI,CACFwD,gBAAiB,UACjB,UAAW,CAAEA,gBAAiB,YAEhCnD,QAAQ,YACR3E,UAAU,kBACVoG,QArNd,WACE,IAAI0J,EAAOzC,KAAK0C,MAChB/L,QAAQC,IAAI6L,GAIZA,GAHAA,EAAOE,KAAKC,MACVD,KAAKE,SAAWF,KAAKC,MAAMD,KAAKE,SAAWJ,EAAKK,WAAWC,OAAO,MAG7DD,WAAWE,UAAU,EAAG,GAC7B,IACAP,EAAKK,WAAWE,UAAU,EAAG,GAC7B,IACAP,EAAKK,WAAWE,UAAU,EAAGP,EAAKK,WAAW1F,QAC/CzG,QAAQC,IAAI6L,GACZ/C,EAAY+C,IAiMF,UASE,cAACQ,EAAA,EAAD,IACA,+CAGF,cAACC,EAAA,EAAD,CACEvQ,UAAU,cACV2E,QAAQ,WACR2B,MAAOU,EACPpB,SAAU,SAACC,GAAD,OAAOkH,EAAYlH,EAAEC,OAAOQ,QACtCD,YAAY,uBACZmK,WAAY,CACVC,eACE,cAACC,EAAA,EAAD,CAAgBrM,SAAS,QAAzB,SACE,cAACsM,EAAA,EAAD,CAAU3Q,UAAU,WAGxB4Q,aACE,cAACF,EAAA,EAAD,CAAgBrM,SAAS,QAAzB,SACE,cAAC6B,EAAA,EAAD,CACEE,QA1FG,WACvBiC,UAAUC,UAAUC,UAApB,kHAC6GvB,IAE7GU,GAAgB,IAuFImJ,SAAuB,KAAb7J,EAFZ,SAIE,cAAC,IAAD,CAAiB1C,GAAI,CAAEC,MAAO,kBAMxC,cAAC6D,EAAA,EAAD,CACE7D,MAAM,UACNI,QAAQ,WACR3E,UAAU,gBACV6Q,SAAuB,KAAb7J,EACVZ,QAhOK,WAHjBsH,GAAiBD,GAKA,KAAbzG,IACFhD,QAAQC,IAAIiF,EAAYoE,aACpBpE,EAAYiE,aAA2C,KAA5BjE,EAAYoE,aAQ7CpE,EACG4H,cAAc,CACbxD,YAAa,YAEdY,MACC,WAEE,IAAIZ,EAAcpE,EAAYoE,YAC9BtJ,QAAQC,IAAR,wBAA6BqJ,OAE/B,SAAUqB,GAER3K,QAAQC,IAAR,6BAAkC0K,OAlBpChB,KACKA,MAoNC,kBAYA,cAACvF,EAAA,EAAD,CACEhC,QA3MG,WACX8C,EAAYiE,aAAajE,EAAY6H,SACzC1R,EAAK2R,WA0MOrM,QAAQ,WACR3E,UAAU,gBAHZ,yBAQF,8BACE,cAACiR,EAAA,EAAD,CACE3M,GAAI,CACFC,MAAO,OACP2M,OAAQ,SAACC,GAAD,OAAWA,EAAMD,OAAOE,OAAS,IAE3C3I,KAAMgF,EALR,SAOE,cAAC4D,EAAA,EAAD,CAAkB9M,MAAM,qBAKhC,cAACiE,EAAA,EAAD,CACEC,KAAMhB,EACNiB,iBAAkB,IAClBC,QAhIoB,SAACpD,EAAOsD,GACnB,cAAXA,GAGJnB,GAAgB,IA6HVoB,OAAQnB,EACRlF,QAAQ,6BC1RH6O,OAlCf,WACE,MAA2BxQ,mBAAS,MAA3BgM,EAAT,oBACA,EAAgChM,mBAAS,SAAzC,mBAAOyQ,EAAP,KAAiBC,EAAjB,KAcA,OAZAvQ,qBAAU,WACR5B,EAAKQ,oBAAmB,SAACC,GACnBA,GACFgN,EAAehN,GACf0R,EAAY,UAEZ1E,EAAe,MACf0E,EAAY,eAGf,IAGD,qBAAKxR,UAAU,MAAf,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOyR,KAAK,qBAAqBC,OAAK,EAAtC,SACE,gCACgB,UAAbH,GAAwB,4CACX,SAAbA,GAAuB,cAAC,GAAD,IACV,UAAbA,GAAwB,cAAC,EAAD,gBCzBvCI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c70fa207.chunk.js","sourcesContent":["import firebase from \"firebase\";\nimport React, { Component } from \"react\";\nimport { StyledFirebaseAuth } from \"react-firebaseui\";\nimport \"./Continuewith.css\";\n// import logo from \"../../images/X-oo.svg\";\n\nclass Continuewith extends Component {\n  state = { isSignedIn: false };\n  uiConfig = {\n    signInFlow: \"popup\",\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.GithubAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      signInSuccess: () => false,\n    },\n  };\n\n  componentDidMount = () => {\n    firebase.auth().onAuthStateChanged((user) => {\n      this.setState({ isSignedIn: !!user });\n      // console.log(\"user\", user);\n    });\n  };\n\n  render() {\n\n    return (\n      <div className=\"continueWith\">\n        {this.state.isSignedIn ? (\n          <span></span>\n        ) : (\n          <div className=\"continueWith__content\">\n            <p className=\"continueWith__title\">Sign in</p>\n            <p className=\"continueWith__subtitle\">Continue to Joins</p>\n\n            <StyledFirebaseAuth\n              uiConfig={this.uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n\n            {/* <div className=\"continueWith__try_text\">Try demo</div>\n            <button\n              className=\"firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-id-idp-button\"\n              style={{ backgroundColor: \"red\" }}\n              data-upgraded=\",MaterialButton\"\n              onClick={anonSignIn}\n            >\n              <span class=\"firebaseui-idp-icon-wrapper\">\n                <AccountCircleIcon\n                  style={{ color: \"white\", verticalAlign: \"middle\" }}\n                />\n              </span>\n              <span class=\"firebaseui-idp-text firebaseui-idp-text-long\">\n                Sign in As Guest\n              </span>\n              <span class=\"firebaseui-idp-text firebaseui-idp-text-short\">\n                Guest\n              </span>\n            </button> */}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Continuewith;\n","import firebase from \"firebase\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAswSs5I_Ow2zqhEKy1cfpZTLS8sy7PYsA\",\n  authDomain: \"meeting-3ecfa.firebaseapp.com\",\n  projectId: \"meeting-3ecfa\",\n  storageBucket: \"meeting-3ecfa.appspot.com\",\n  messagingSenderId: \"940410080677\",\n  appId: \"1:940410080677:web:dad8c866e2b666c92c6c4c\",\n  measurementId: \"G-7QHJGCKWLK\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\n","import React, { useState, useEffect } from \"react\";\n\nfunction Image(props) {\n  const [imageSrc, setImageSrc] = useState(\"\");\n\n  useEffect(() => {\n    const reader = new FileReader();\n    reader.readAsDataURL(props.blob);\n    reader.onloadend = function () {\n      setImageSrc(reader.result);\n    };\n  }, [props.blob]);\n\n  return (\n    <img\n      className=\"image\"\n      style={{ width: 150, height: \"auto\" }}\n      src={imageSrc}\n      alt={props.fileName}\n    />\n  );\n}\n\nexport default Image;\n","import { useEffect, useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nconst NEW_MESSAGE_EVENT = \"new-message-event\";\nconst SOCKET_SERVER_URL = \"https://trishul-meeting-server.herokuapp.com/\";\n// const SOCKET_SERVER_URL = \"localhost:3030\";\n\nconst useChatRoom = (roomId) => {\n  const [messages, setMessages] = useState([]);\n  const socketRef = useRef();\n\n  useEffect(() => {\n    socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\n      query: { roomId },\n    });\n\n    socketRef.current.on(NEW_MESSAGE_EVENT, (message) => {\n      const incomingMessage = {\n        ...message,\n        isOwner: message.senderId === socketRef.current.id,\n      };\n      setMessages((messages) => [...messages, incomingMessage]);\n    });\n\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, [roomId]);\n\n  const sendMessage = (messageBody, file) => {\n    if (file) {\n      socketRef.current.emit(NEW_MESSAGE_EVENT, {\n        body: file,\n        type: \"file\",\n        mimeType: file.type,\n        fileName: file.name,\n        senderId: socketRef.current.id,\n      });\n    } else {\n      socketRef.current.emit(NEW_MESSAGE_EVENT, {\n        body: messageBody,\n        senderId: socketRef.current.id,\n      });\n    }\n  };\n\n  return { messages, sendMessage };\n};\n\nexport default useChatRoom;\n","import { PhotoCamera } from \"@mui/icons-material\";\nimport InsertEmoticonSharpIcon from \"@mui/icons-material/InsertEmoticonSharp\";\nimport SendIcon from \"@mui/icons-material/Send\";\n// import AttachFileIcon from \"@mui/icons-material/AttachFile\";\nimport { IconButton } from \"@mui/material\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Typography from \"@mui/material/Typography\";\nimport Picker from \"emoji-picker-react\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Linkify from \"react-linkify\";\nimport { SecureLink } from \"react-secure-link\";\nimport \"./ChatRoom.css\";\nimport Image from \"./Image\";\nimport useChat from \"./useChatRoom\";\n\nconst Room = ({ roomId }) => {\n  // const { roomId } = props.match.params;\n  const { messages, sendMessage } = useChat(roomId);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [file, setFile] = useState();\n  const [displayEmoji, setDisplayEmoji] = useState(\"notDisplayEmoji\");\n  const messageRef = useRef();\n\n  const handleNewMessageChange = (event) => {\n    setNewMessage(event.target.value);\n  };\n\n  const handleSendMessage = () => {\n    console.log(newMessage);\n    if (newMessage !== \"\") {\n      sendMessage(newMessage, file);\n      setNewMessage(\"\");\n      setFile();\n      setDisplayEmoji(\"notDisplayEmoji\");\n    }\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const selectFile = (e) => {\n    setNewMessage(e.target.files[0].name);\n    setFile(e.target.files[0]);\n  };\n\n  const renderMessages = (message, i) => {\n    if (message.type === \"file\") {\n      const blob = new Blob([message.body], { type: message.type });\n      return (\n        <div\n          key={i}\n          className={message.isOwner ? \"my-message\" : \"received-message\"}\n        >\n          <div className=\"msgBody\">\n            <Image fileName={message.fileName} blob={blob} />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        key={i}\n        className={message.isOwner ? \"my-message\" : \"received-message\"}\n      >\n        <div className=\"msgBody\">\n          <Linkify\n            componentDecorator={(decoratedHref, decoratedText) => (\n              <SecureLink href={decoratedHref}>{decoratedText}</SecureLink>\n            )}\n          >\n            {message.body}\n          </Linkify>\n        </div>\n      </div>\n    );\n  };\n\n  const onEmojiClick = (event, emojiObject) => {\n    setNewMessage(newMessage + emojiObject.emoji);\n  };\n\n  const disEmoji = () => {\n    if (displayEmoji === \"notDisplayEmoji\") setDisplayEmoji(\"displayEmoji\");\n    else if (displayEmoji === \"displayEmoji\")\n      setDisplayEmoji(\"notDisplayEmoji\");\n  };\n\n  useEffect(() => messageRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  return (\n    <div className=\"chatbox\">\n      <div className=\"chatRoomMain\">\n        <AppBar\n          position=\"static\"\n          sx={{\n            height: 40,\n            color: \"black\",\n            background: \"transparent\",\n            alignItems: \"center\",\n          }}\n        >\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Chats\n          </Typography>\n        </AppBar>\n        <div className=\"chat-container\">\n          <div className=\"msg\">\n            <ol id=\"messages\">{messages.map(renderMessages)}</ol>\n            <div ref={messageRef}></div>\n          </div>\n\n          <div className={displayEmoji}>\n            <Picker onEmojiClick={onEmojiClick} />\n          </div>\n        </div>\n        <div id=\"form\" className=\"textField\">\n          <label htmlFor=\"raised-button-file\">\n            <input\n              accept=\"image/*\"\n              onChange={selectFile}\n              style={{ display: \"none\" }}\n              id=\"raised-button-file\"\n              multiple\n              type=\"file\"\n            />\n            <IconButton\n              className=\"camera\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <PhotoCamera />\n            </IconButton>\n          </label>\n          <label>\n            <IconButton aria-label=\"emoji\" component=\"span\" onClick={disEmoji}>\n              <InsertEmoticonSharpIcon />\n            </IconButton>\n          </label>\n\n          <input\n            id=\"message\"\n            placeholder=\"Enter message here\"\n            value={newMessage}\n            onChange={handleNewMessageChange}\n            onKeyUp={handleKeyUp}\n          />\n\n          <button onClick={handleSendMessage}>\n            <SendIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n    // </div>\n  );\n};\n\nexport default Room;\n","import CallEndIcon from \"@mui/icons-material/CallEnd\";\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport MessageIcon from \"@mui/icons-material/Message\";\nimport MicIcon from \"@mui/icons-material/Mic\";\nimport MicOffIcon from \"@mui/icons-material/MicOff\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\n// import PanToolIcon from \"@mui/icons-material/PanTool\";\n// import PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\nimport PersonAddAlt1Icon from \"@mui/icons-material/PersonAddAlt1\";\nimport ScreenShareIcon from '@mui/icons-material/ScreenShare';\nimport StopScreenShareIcon from '@mui/icons-material/StopScreenShare';\nimport VideocamIcon from \"@mui/icons-material/Videocam\";\nimport VideocamOffIcon from \"@mui/icons-material/VideocamOff\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport React, { useState } from \"react\";\n\n\nexport default function MenuBar({\n  handleLogout,\n  handleAudioMute,\n  handleAudioUnmute,\n  handleVideoMute,\n  handleVideoUnmute,\n  showChat,\n  roomName,\n  handleScreenShare\n}) {\n  const [audio, setAudio] = useState(true);\n  const [camera, setCamera] = useState(true);\n  const [message, setMessage] = useState(true);\n  // const [raiseHand, setRaiseHand] = useState(false);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const [openSnackbar, setOpenSnackbar] = useState(false);\n\n  const audioToggle = () => {\n    if (audio === false) {\n      setAudio(true);\n      handleAudioUnmute();\n    } else if (audio === true) {\n      setAudio(false);\n      handleAudioMute();\n    }\n  };\n\n  const cameraToggle = () => {\n    if (camera === false) {\n      setCamera(true);\n      handleVideoUnmute();\n    } else if (camera === true) {\n      setCamera(false);\n      handleVideoMute();\n    }\n  };\n\n  const messageToggle = () => {\n    if (message === false) {\n      setMessage(true);\n      showChat();\n    } else if (message === true) {\n      setMessage(false);\n      showChat();\n    }\n  };\n\n  const screenSharingToggle = () => {\n    if (screenSharing === false) {\n      setScreenSharing(true);\n      handleScreenShare(true);\n    } else if (screenSharing === true) {\n      setScreenSharing(false);\n      handleScreenShare(false);\n    }\n  };\n\n  // const raiseHandToggle = () => {\n  //   if (raiseHand === false) {\n  //     setRaiseHand(true);\n  //     // handleVideoUnmute();\n  //   } else if (raiseHand === true) {\n  //     setRaiseHand(false);\n  //     // handleVideoMute();\n  //   }\n  // };\n\n  const invitemorepeople = () => {\n    navigator.clipboard.writeText(\n      `Joins Meeting info \\nVideo call link: https://abhinav-22-tech.github.io/Joins-Meeting-App/ \\nRoom Code: ${roomName}`\n    );\n    setOpenSnackbar(true);\n  };\n\n  const handleCloseSnackBar = (_event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenSnackbar(false);\n  };\n\n  const iconOfSnackBar = (\n    <React.Fragment>\n      <ContentCopyIcon sx={{ color: \"white\" }} />\n    </React.Fragment>\n  );\n\n  return (\n    <Box>\n      <Box\n        component=\"span\"\n        sx={{\n          backgroundColor: \"#141414\",\n          m: \"auto\",\n          p: 2,\n          borderRadius: 3,\n          boxShadow: 24,\n        }}\n        display=\"flex\"\n        width={430}\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Button onClick={audioToggle} sx={{ color: \"white\" }}>\n          {audio === true ? (\n            <MicIcon sx={{ color: \"#00a389\" }} />\n          ) : (\n            <MicOffIcon sx={{ color: \"white\" }} />\n          )}\n        </Button>\n        <Button onClick={cameraToggle} sx={{ color: \"white\" }}>\n          {camera === true ? (\n            <VideocamIcon sx={{ color: \"#00a389\" }} />\n          ) : (\n            <VideocamOffIcon sx={{ color: \"white\" }} />\n          )}\n        </Button>\n        <Button onClick={messageToggle} sx={{ color: \"white\" }}>\n          {message === true ? (\n            <MessageIcon sx={{ color: \"#972ab5\" }} />\n          ) : (\n            <ChatBubbleOutlineIcon sx={{ color: \"white\" }} />\n          )}\n        </Button>\n        <Button onClick={screenSharingToggle} sx={{ color: \"white\" }}>\n          {screenSharing === true ? (\n            <ScreenShareIcon sx={{ color: \"#3277a8\" }} />\n          ) : (\n            <StopScreenShareIcon sx={{ color: \"white\" }} />\n          )}\n        </Button>\n        {/* <Button onClick={raiseHandToggle} sx={{ color: \"white\" }}>\n          {raiseHand === true ? (\n            <PanToolIcon sx={{ color: \"#00a389\" }} />\n          ) : (\n            <PanToolIcon sx={{ color: \"white\" }} />\n          )}\n        </Button> */}\n        {/* <Button sx={{ color: \"white\" }}>\n          <PeopleAltIcon />\n        </Button> */}\n        <Button sx={{ color: \"white\" }} onClick={invitemorepeople}>\n          <PersonAddAlt1Icon />\n        </Button>\n        <Button sx={{ color: \"white\" }}>\n          <MoreHorizIcon />\n        </Button>\n        <Button\n          onClick={handleLogout}\n          sx={{\n            backgroundColor: \"#fc0303\",\n            \":hover\": { backgroundColor: \"#fa3939\" },\n            color: \"white\",\n          }}\n        >\n          <CallEndIcon />\n        </Button>\n      </Box>\n\n      <Snackbar\n        open={openSnackbar}\n        autoHideDuration={2000}\n        onClose={handleCloseSnackBar}\n        action={iconOfSnackBar}\n        message=\"Successfully copied!\"\n      />\n    </Box>\n  );\n}\n","import Box from \"@mui/material/Box\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./Participant.css\";\n\nconst Participant = ({ participant, totalParticipant, currentUser }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = (trackMap) =>\n    Array.from(trackMap.values())\n      .map((publication) => publication.track)\n      .filter((track) => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = (track) => {\n      if (track.kind === \"video\") {\n        setVideoTracks((videoTracks) => [...videoTracks, track]);\n      } else if (track.kind === \"audio\") {\n        setAudioTracks((audioTracks) => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = (track) => {\n      if (track.kind === \"video\") {\n        setVideoTracks((videoTracks) => videoTracks.filter((v) => v !== track));\n      } else if (track.kind === \"audio\") {\n        setAudioTracks((audioTracks) => audioTracks.filter((a) => a !== track));\n      }\n    };\n\n    participant.on(\"trackSubscribed\", trackSubscribed);\n    participant.on(\"trackUnsubscribed\", trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div\n      className={`participant ${\n        totalParticipant?.length === 0 && \"one_participant\"\n      }`}\n    >\n      <p className=\"participant-name\">\n        <Box sx={{ backgroundColor: \"rgba(0,0,0,.4)\", p: 0.4 }}>\n          {participant.identity === currentUser ? \"You\" : participant.identity}\n        </Box>\n      </p>\n      <Box sx={{ boxShadow: 24 }}>\n        <video ref={videoRef} autoPlay={true} />\n        <audio ref={audioRef} autoPlay={true} />\n      </Box>\n    </div>\n  );\n};\n\nexport default Participant;\n","import Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport React, { useEffect, useState } from \"react\";\nimport ChatRoom from \"../ChatRoom/ChatRoom\";\nimport MenuBar from \"../MenuBar/MenuBar\";\nimport Participant from \"../Participant/Participant\";\nimport \"./Room.css\";\n\nconst Room = ({\n  roomName,\n  room,\n  handleLogout,\n  currentUser,\n  handleAudioMute,\n  handleAudioUnmute,\n  handleVideoMute,\n  handleVideoUnmute,\n  handleScreenShareStart,\n  handleScreenShareStop,\n}) => {\n  const [participants, setParticipants] = useState([]);\n  const [displayChat, setDisplayChat] = useState(true);\n  const [displayShareScreen, setDisplayShareScreen] = useState(false);\n  const [sizeofgrid1, setsizeofgrid1] = useState(9);\n  const [sizeofgrid2, setsizeofgrid2] = useState(3);\n  const [marginMenuBar, setMarginMenuBar] = useState(24);\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) =>\n        prevParticipants.filter((p) => p !== participant)\n      );\n    };\n\n    room.on(\"participantConnected\", participantConnected);\n    room.on(\"participantDisconnected\", participantDisconnected);\n    room.participants.forEach(participantConnected);\n    return () => {\n      room.off(\"participantConnected\", participantConnected);\n      room.off(\"participantDisconnected\", participantDisconnected);\n    };\n  }, [room]);\n\n  const remoteParticipants = participants.map((participant) => (\n    <Participant\n      key={participant.sid}\n      participant={participant}\n      currentUser={currentUser}\n    />\n  ));\n\n  console.log(\"room: \");\n\n  const showChat = () => {\n    if (displayChat === false) {\n      setDisplayChat(true);\n      setsizeofgrid1(9);\n      setsizeofgrid2(3);\n      setMarginMenuBar(24);\n    } else if (displayChat === true) {\n      setDisplayChat(false);\n      setsizeofgrid1(11);\n      setsizeofgrid2(0);\n      setMarginMenuBar(14);\n    }\n  };\n\n  const handleScreenShare = (displayScreen) => {\n    console.log(\"displayScreen : \" + displayScreen);\n    setDisplayShareScreen(displayScreen);\n    if (displayScreen === true) {\n      handleScreenShareStart();\n    } else {\n      handleScreenShareStop();\n    }\n  };\n\n  return (\n    <main className=\"room\">\n      <Box sx={{ flexGrow: 1 }}>\n        <Grid container spacing={2}>\n          <Grid item xs={sizeofgrid1}>\n            <Box sx={{ flexGrow: 1 }}>\n              <Grid container spacing={2} columns={16}>\n                <Grid item xs={7.5} key=\"1\">\n                  <Box sx={{ boxShadow: 24 }}>\n                    {room ? (\n                      <Participant\n                        totalParticipant={participants}\n                        key={room.localParticipant.sid}\n                        participant={room.localParticipant}\n                      />\n                    ) : (\n                      \"\"\n                    )}\n                  </Box>\n                </Grid>\n                <Grid item xs={7.5} key=\"2\">\n                  <Box sx={{ boxShadow: 24 }}>{remoteParticipants}</Box>\n                </Grid>\n              </Grid>\n              <Box>\n                {displayShareScreen === true ? (\n                  <Grid>\n                    <Box sx={{ backgroundColor: \"white\" }}>\n                      <Participant\n                        totalParticipant={participants}\n                        key={room.localParticipant.sid}\n                        participant={room.localParticipant}\n                      />\n                    </Box>\n                  </Grid>\n                ) : (\n                  \"\"\n                )}\n              </Box>\n              <Box sx={{ mt: marginMenuBar }}>\n                <MenuBar\n                  handleLogout={handleLogout}\n                  handleAudioMute={handleAudioMute}\n                  handleAudioUnmute={handleAudioUnmute}\n                  handleVideoMute={handleVideoMute}\n                  handleVideoUnmute={handleVideoUnmute}\n                  roomName={roomName}\n                  showChat={showChat}\n                  handleScreenShare={handleScreenShare}\n                />\n              </Box>\n            </Box>\n          </Grid>\n          {displayChat === true ? (\n            <Grid item xs={sizeofgrid2}>\n              <Box sx={{ backgroundColor: \"white\" }}>\n                <ChatRoom roomId={roomName} />\n              </Box>\n            </Grid>\n          ) : (\n            \"\"\n          )}\n        </Grid>\n      </Box>\n\n      {/* <TopHeader\n        participants={participants}\n        participant={room.localParticipant}\n      /> */}\n      {/* <div className=\"all-participants\">\n        {room ? (\n          <Participant\n            totalParticipant={participants}\n            key={room.localParticipant.sid}\n            participant={room.localParticipant}\n          />\n        ) : (\n          \"\"\n        )}\n        {remoteParticipants}\n      </div> */}\n      {/* \n      <div className=\"chatRoom\">\n        <div className={displayChat}>\n          <ChatRoom roomId={roomName} />\n        </div>\n      </div> */}\n    </main>\n  );\n};\n\nexport default Room;\n","import { Keyboard, VideoCallOutlined } from \"@mui/icons-material\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport { Button, IconButton, InputAdornment, TextField } from \"@mui/material\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport Video from \"twilio-video\";\nimport { auth } from \"../../lib/firebase\";\nimport Room from \"../Room/Room\";\nimport \"./home.css\";\n\nconst { createLocalVideoTrack } = require(\"twilio-video\");\n\nfunction Home() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [roomName, setRoomName] = useState(\"\");\n  const [room, setRoom] = useState(null);\n  const [username, setUsername] = useState(\"\");\n  const [openSnackbar, setOpenSnackbar] = useState(false);\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setCurrentUser(user);\n        console.log(user.isAnonymous);\n      } else {\n        setCurrentUser(null);\n      }\n    });\n\n    const timer = setInterval(() => new Date(), 1000);\n    return timer;\n  }, []);\n\n  useEffect(() => {\n    if (currentUser) {\n      setUsername(currentUser.displayName);\n    }\n  }, [currentUser]);\n\n  function randomRoom() {\n    let uuid = Date.now();\n    console.log(uuid);\n    uuid = Math.floor(\n      Math.random() * Math.floor(Math.random() * uuid.toString().slice(-9))\n    );\n    uuid =\n      uuid.toString().substring(0, 3) +\n      \"-\" +\n      uuid.toString().substring(3, 6) +\n      \"-\" +\n      uuid.toString().substring(6, uuid.toString().length);\n    console.log(uuid);\n    setRoomName(uuid);\n  }\n\n  const [backDropOpen, setBackDropOpen] = React.useState(false);\n  const backDrophandleClose = () => {\n    setBackDropOpen(false);\n  };\n  const backDropHandleToggle = () => {\n    setBackDropOpen(!backDropOpen);\n  };\n\n  const linkToRoom = () => {\n    backDropHandleToggle();\n    if (roomName !== \"\") {\n      console.log(currentUser.displayName);\n      if (currentUser.isAnonymous && currentUser.displayName === \"\") {\n        GuestLogin();\n        handleSubmit();\n      } else handleSubmit();\n    }\n  };\n\n  function GuestLogin() {\n    currentUser\n      .updateProfile({\n        displayName: \"Abhinav\",\n      })\n      .then(\n        function () {\n          // Profile updated successfully!\n          var displayName = currentUser.displayName;\n          console.log(`Display Name: ${displayName}`);\n        },\n        function (error) {\n          // An error happened.\n          console.log(`Guest Login Error: ${error}`);\n        }\n      );\n  }\n\n  const siginOut = () => {\n    if (currentUser.isAnonymous) currentUser.delete();\n    auth.signOut();\n  };\n\n  const handleSubmit = useCallback(async () => {\n    const data = await fetch(\n      \"https://twilio-meeting-server.herokuapp.com/video/token\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          identity: username,\n          room: roomName,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    ).then((res) => res.json());\n    Video.connect(data.token, {\n      name: roomName,\n    })\n      .then((room) => {\n        setRoom(room);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n    console.log(data);\n  }, [roomName, username]);\n\n  const handleLogout = useCallback(() => {\n    backDrophandleClose();\n    setRoom((prevRoom) => {\n      if (prevRoom) {\n        prevRoom.localParticipant.tracks.forEach((trackPub) => {\n          trackPub.track.stop();\n        });\n        prevRoom.disconnect();\n      }\n      return null;\n    });\n  }, []);\n\n  const handleAudioMute = () => {\n    room.localParticipant.audioTracks.forEach((publication) =>\n      publication.track.disable()\n    );\n  };\n\n  const handleAudioUnmute = () => {\n    room.localParticipant.audioTracks.forEach((publication) =>\n      publication.track.enable()\n    );\n  };\n\n  const handleVideoMute = () => {\n    room.localParticipant.videoTracks.forEach((publication) =>\n      publication.track.disable()\n    );\n  };\n\n  const handleVideoUnmute = () => {\n    room.localParticipant.videoTracks.forEach((publication) =>\n      publication.track.enable()\n    );\n  };\n\n  let screenTrack;\n\n  const handleScreenShareStart = () => {\n    navigator.mediaDevices\n      .getDisplayMedia()\n      .then((stream) => {\n        screenTrack = new Video.LocalVideoTrack(stream.getTracks()[0]);\n        room.localParticipant.publishTrack(screenTrack);\n        // screenTrack.mediaStreamTrack.onended = () => {\n        // };\n        console.log(\"senctrack: \" + screenTrack);\n      })\n      .catch(() => {\n        alert(\"Could not share the screen.\");\n      });\n  };\n\n  const handleScreenShareStop = () => {\n    // room.localParticipant.unpublishTrack(screenTrack);\n    // screenTrack.stop();\n    console.log(\"Screen Shairing Stop\");\n  };\n\n  const invitemorepeople = () => {\n    navigator.clipboard.writeText(\n      `Joins Meeting info \\nVideo call link: https://abhinav-22-tech.github.io/Joins-Meeting-App/ \\nRoom Code: ${roomName}`\n    );\n    setOpenSnackbar(true);\n  };\n\n  const handleCloseSnackBar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenSnackbar(false);\n  };\n\n  const iconOfSnackBar = (\n    <React.Fragment>\n      <ContentCopyIcon sx={{ color: \"white\" }} />\n    </React.Fragment>\n  );\n\n  useEffect(() => {\n    if (room) {\n      const tidyUp = (event) => {\n        if (event.persisted) {\n          return;\n        }\n        if (room) {\n          handleLogout();\n        }\n      };\n      window.addEventListener(\"pagehide\", tidyUp);\n      window.addEventListener(\"beforeunload\", tidyUp);\n      return () => {\n        window.removeEventListener(\"pagehide\", tidyUp);\n        window.removeEventListener(\"beforeunload\", tidyUp);\n      };\n    }\n  }, [room, handleLogout]);\n\n  let render;\n  if (room) {\n    render = (\n      <Room\n        roomName={roomName}\n        room={room}\n        handleLogout={handleLogout}\n        currentUser={currentUser}\n        handleAudioMute={handleAudioMute}\n        handleAudioUnmute={handleAudioUnmute}\n        handleVideoMute={handleVideoMute}\n        handleVideoUnmute={handleVideoUnmute}\n        handleScreenShareStart={handleScreenShareStart}\n        handleScreenShareStop={handleScreenShareStop}\n        screenTrack={screenTrack}\n      />\n    );\n  } else {\n    render = (\n      <div>\n        <div className=\"home\">\n          <div className=\"home__left\">\n            <div className=\"home__buttons\">\n              <Button\n                sx={{\n                  backgroundColor: \"#00a389\",\n                  \"&:hover\": { backgroundColor: \"#18c2a7\" },\n                }}\n                variant=\"contained\"\n                className=\"home__createBTN\"\n                onClick={randomRoom}\n              >\n                <VideoCallOutlined />\n                <p>New meeting</p>\n              </Button>\n\n              <TextField\n                className=\"home__input\"\n                variant=\"outlined\"\n                value={roomName}\n                onChange={(e) => setRoomName(e.target.value)}\n                placeholder=\"Enter a code or link\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <Keyboard className=\"icon\" />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"start\">\n                      <IconButton\n                        onClick={invitemorepeople}\n                        disabled={roomName === \"\"}\n                      >\n                        <ContentCopyIcon sx={{ color: \"black\" }} />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <Button\n                color=\"primary\"\n                variant=\"outlined\"\n                className=\"home__joinBTN\"\n                disabled={roomName === \"\"}\n                onClick={linkToRoom}\n              >\n                Join\n              </Button>\n\n              {/* This signout button for development purpose */}\n\n              <Button\n                onClick={siginOut}\n                variant=\"outlined\"\n                className=\"home__signOut\"\n              >\n                Sign Out\n              </Button>\n            </div>\n            <div>\n              <Backdrop\n                sx={{\n                  color: \"#fff\",\n                  zIndex: (theme) => theme.zIndex.drawer + 1,\n                }}\n                open={backDropOpen}\n              >\n                <CircularProgress color=\"inherit\" />\n              </Backdrop>\n            </div>\n          </div>\n        </div>\n        <Snackbar\n          open={openSnackbar}\n          autoHideDuration={2000}\n          onClose={handleCloseSnackBar}\n          action={iconOfSnackBar}\n          message=\"Successfully copied!\"\n        />\n      </div>\n    );\n  }\n\n  return render;\n}\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Continuewith from \"./components/Continuewith/Continuewith\";\nimport Home from \"./components/Home/home\";\nimport { auth } from \"./lib/firebase\";\n\nfunction App() {\n  const [, setCurrentUser] = useState(null);\n  const [appState, setAppState] = useState(\"empty\");\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setCurrentUser(user);\n        setAppState(\"home\");\n      } else {\n        setCurrentUser(null);\n        setAppState(\"login\");\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/Joins-Meeting-App\" exact>\n            <div>\n              {appState === \"empty\" && <p>Loading....</p>}\n              {appState === \"home\" && <Home />}\n              {appState === \"login\" && <Continuewith />}\n            </div>\n          </Route>\n          {/* <Route exact path=\"/:roomId\" component={Main}></Route> */}\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}