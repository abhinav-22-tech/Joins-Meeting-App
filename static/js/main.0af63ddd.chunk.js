(this["webpackJsonpx-meet"]=this["webpackJsonpx-meet"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(16),s=n.n(i),r=(n(81),n(50)),o=n.n(r),u=n(59),j=n(25),l=n(60),d=n(61),h=n(71),b=n(70),p=n(21),O=n(62),m=(n(95),n.p+"static/media/X-oo.90f7da0a.svg"),g=n(4),f=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={isSignedIn:!1},e.uiConfig={signInFlow:"popup",signInOptions:[p.a.auth.GoogleAuthProvider.PROVIDER_ID,p.a.auth.FacebookAuthProvider.PROVIDER_ID,p.a.auth.GithubAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},e.componentDidMount=function(){p.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t}),console.log("user",t)}))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"continueWith",children:this.state.isSignedIn?Object(g.jsx)("span",{}):Object(g.jsxs)("div",{className:"continueWith__content",children:[Object(g.jsx)("img",{src:m,alt:"X-oo",className:"continueWith__logo"}),Object(g.jsx)("p",{className:"continueWith__title",children:"Sign in"}),Object(g.jsx)("p",{className:"continueWith__subtitle",children:"Continue to X-meet"}),Object(g.jsx)(O.StyledFirebaseAuth,{uiConfig:this.uiConfig,firebaseAuth:p.a.auth()})]})})}}]),n}(a.Component),x=n(138);n(155),n(153),n(146),n(154),n(152),n(156),n(151),n(141),n(143),n(144),n(145),n(147),n(148),n(149),n(150),n(58);p.a.initializeApp({apiKey:"AIzaSyAswSs5I_Ow2zqhEKy1cfpZTLS8sy7PYsA",authDomain:"meeting-3ecfa.firebaseapp.com",projectId:"meeting-3ecfa",storageBucket:"meeting-3ecfa.appspot.com",messagingSenderId:"940410080677",appId:"1:940410080677:web:dad8c866e2b666c92c6c4c",measurementId:"G-7QHJGCKWLK"});var v=p.a.auth();n(97),Object(x.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7)}}}));n(103),n(104),n(105);var I=n(69),S=p.a.firestore();p.a.analytics();function y(){return v.currentUser&&Object(g.jsx)("button",{className:"sign-out",onClick:function(){return v.signOut()},children:"Sign Out"})}function A(){var e=Object(a.useRef)(),t=S.collection("messages"),n=t.orderBy("createdAt").limit(200),c=Object(I.a)(n,{idField:"id"}),i=Object(j.a)(c,1)[0],s=Object(a.useState)(""),r=Object(j.a)(s,2),l=r[0],d=r[1],h=function(){var n=Object(u.a)(o.a.mark((function n(a){var c,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),c=v.currentUser,i=c.uid,s=c.photoURL,n.next=4,t.add({text:l,createdAt:p.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:s});case 4:d(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("main",{children:[i&&i.map((function(e){return Object(g.jsx)(_,{message:e},e.id)})),Object(g.jsx)("span",{ref:e})]}),Object(g.jsxs)("form",{onSubmit:h,children:[Object(g.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)},placeholder:"say something nice"}),Object(g.jsx)("button",{type:"submit",disabled:!l})]})]})}function _(e){var t=e.message,n=t.text,a=t.uid,c=t.photoURL,i=a===v.currentUser.uid?"sent":"received";return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"message ".concat(i),children:[Object(g.jsx)("img",{src:c||"https://api.adorable.io/avatars/23/abott@adorable.png",alt:"avatar"}),Object(g.jsx)("p",{children:n})]})})}var w=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)("empty"),i=Object(j.a)(c,2),s=i[0],r=i[1];return Object(a.useEffect)((function(){v.onAuthStateChanged((function(e){e?(n(e),r("home")):(n(null),r("login"))}))}),[]),Object(g.jsxs)("div",{className:"App",children:["empty"===s&&Object(g.jsx)("p",{children:"Loading...."}),"login"===s&&Object(g.jsx)(f,{}),Object(g.jsxs)("header",{children:[Object(g.jsx)("h1",{children:"\u269b\ufe0f\ud83d\udd25\ud83d\udcac"}),Object(g.jsx)(y,{})]}),"home"===s&&Object(g.jsx)(A,{})]})};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root"))},81:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.0af63ddd.chunk.js.map